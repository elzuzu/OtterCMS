const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Dashboard-B6_2_pSW.js","./vendor-ui-CtvHukzg.js","./vendor-data-BY55b65u.js","./vendor-react-DjGYZWH8.js","./DattaPageTitle-T82UHXFU.js","./main-BtLJocfP.js","./DattaCard-Ca8oAgyz.js","./WindowControls-nBMnr5hL.js","./IndividusList-vg6Tsqfk.js","./date-BJLw6yVC.js","./NouvelIndividu-_arM4mS1.js","./dynamic-D4zAvdYy.js","./DattaForm-CDg-NNVW.js","./DattaCheckbox-DNdiamZ9.js","./DattaTabs-D7AxHKPN.js","./DattaNetworkDataTable-CKoFfAgq.js","./DattaModal-BlJ6BfOc.js","./ImportData-DapzvLFD.js","./useTimedMessage-3v5eabB6.js","./MassAttribution-BrZ2-Dgs.js","./AdminCategories-C_oCraG0.js","./AdminUsersSection-B1xlb4JB.js","./AdminTemplate-BBdXa5Dn.js","./UserSettings-BqHcWVwP.js","./IndividuFiche-RnPwzNY5.js"])))=>i.map(i=>d[i]);
import{j as e}from"./vendor-ui-CtvHukzg.js";import{r as s}from"./vendor-data-BY55b65u.js";import{_ as a,b as i}from"./main-BtLJocfP.js";import{h as r,W as n,P as l}from"./WindowControls-nBMnr5hL.js";const t=s.lazy((()=>a((()=>import("./Dashboard-B6_2_pSW.js")),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url))),d=s.lazy((()=>a((()=>import("./IndividusList-vg6Tsqfk.js")),__vite__mapDeps([8,1,2,3,6,5,9,10,11,12,4,13,14,15,16]),import.meta.url))),c=s.lazy((()=>a((()=>import("./ImportData-DapzvLFD.js")),__vite__mapDeps([17,1,2,3,18,9,5,4,14,6,12,16,15]),import.meta.url))),o=s.lazy((()=>a((()=>import("./MassAttribution-BrZ2-Dgs.js")),__vite__mapDeps([19,1,2,3,4,6,5,13,12,15]),import.meta.url))),m=s.lazy((()=>a((()=>import("./AdminCategories-C_oCraG0.js")),__vite__mapDeps([20,1,2,3,18,5,4,6,15]),import.meta.url))),p=s.lazy((()=>a((()=>import("./AdminUsersSection-B1xlb4JB.js")),__vite__mapDeps([21,1,2,3,15,5,6,12,7,4]),import.meta.url))),u=s.lazy((()=>a((()=>import("./AdminTemplate-BBdXa5Dn.js")),__vite__mapDeps([22,1,4,2,3,5,16]),import.meta.url))),h=s.lazy((()=>a((()=>import("./UserSettings-BqHcWVwP.js")),__vite__mapDeps([23,1,2,3,12,5,4,6]),import.meta.url)));function j(){return e.jsx("div",{className:"d-flex justify-content-center my-4",children:e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}function x({user:a,onLogout:t,activeTab:d,onTabChange:c,title:o,children:m}){const[p,u]=s.useState(!0),h=()=>{u(!p)},j={dashboard:e.jsx("i",{className:"feather icon-home"}),individus:e.jsx("i",{className:"feather icon-list"}),import:e.jsx("i",{className:"feather icon-upload"}),attribution:e.jsx("i",{className:"feather icon-users"}),categories:e.jsx("i",{className:"feather icon-tag"}),users:e.jsx("i",{className:"feather icon-user"}),template:e.jsx("i",{className:"feather icon-feather"}),settings:e.jsx("i",{className:"feather icon-settings"})},x=[];return r(a,l.VIEW_DASHBOARD)&&x.push({id:"dashboard",label:"Tableau de bord"}),r(a,l.VIEW_INDIVIDUS)&&x.push({id:"individus",label:"Individus"}),r(a,l.IMPORT_DATA)&&x.push({id:"import",label:"Import de données"}),r(a,l.MASS_ATTRIBUTION)&&x.push({id:"attribution",label:"Attribution de masse"}),r(a,l.MANAGE_CATEGORIES)&&x.push({id:"categories",label:"Gérer les catégories"}),(r(a,l.MANAGE_USERS)||r(a,l.MANAGE_ROLES))&&x.push({id:"users",label:"Gérer les utilisateurs"}),r(a,l.MANAGE_COLUMNS)&&x.push({id:"template",label:"Templates"}),s.useEffect((()=>{const e=()=>{window.innerWidth<=1025?u(!1):u(!0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),s.useEffect((()=>{window.feather&&"function"==typeof window.feather.replace&&window.feather.replace()}),[d]),e.jsxs(e.Fragment,{children:[e.jsx("nav",{className:"pc-sidebar "+(p?"":"pc-sidebar-hide"),children:e.jsxs("div",{className:"navbar-wrapper",children:[e.jsx("div",{className:"m-header",children:e.jsxs("a",{href:"#",className:"b-brand text-primary",onClick:h,children:[e.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 64 64",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"me-2",style:{flexShrink:0},children:[e.jsx("circle",{cx:"32",cy:"20",r:"9"}),e.jsx("circle",{cx:"25",cy:"12",r:"3"}),e.jsx("circle",{cx:"39",cy:"12",r:"3"}),e.jsx("circle",{cx:"28",cy:"18",r:"1.5",fill:"currentColor"}),e.jsx("circle",{cx:"36",cy:"18",r:"1.5",fill:"currentColor"}),e.jsx("path",{d:"M30 24 Q32 25 34 24"}),e.jsx("path",{d:"M20 32 Q16 48 32 54 Q48 48 44 32"}),e.jsx("path",{d:"M26 36 Q32 33 38 36"})]}),e.jsx("span",{className:"b-brand-text d-sm-block fw-medium",children:o||"OtterCMS"}),e.jsx("span",{className:"badge bg-brand-color-3 rounded-pill ms-2",children:"v2.0"})]})}),e.jsx("div",{className:"navbar-content",children:e.jsxs("ul",{className:"pc-navbar",children:[e.jsx("li",{className:"pc-item pc-caption",children:e.jsx("label",{children:"Navigation"})}),x.map((s=>e.jsx("li",{className:"pc-item "+(d===s.id?"active":""),children:e.jsxs("a",{href:"#",className:"pc-link",onClick:()=>c(s.id),children:[e.jsx("span",{className:"pc-micon",children:j[s.id]}),e.jsx("span",{className:"pc-mtext",children:s.label}),e.jsx("span",{className:"pc-arrow",children:e.jsx("i",{className:"feather icon-chevron-right"})}),s.badge&&e.jsx("span",{className:"pc-badge",children:s.badge})]})},s.id)))]})}),e.jsx("div",{className:"sidebar-user text-center mt-auto mb-3 small",children:a.windows_login?`${a.windows_login} (${a.role})`:`${a.username} (${a.role})`})]})}),e.jsx("header",{className:"pc-header",style:{WebkitAppRegion:"drag"},children:e.jsxs("div",{className:"header-wrapper",children:[e.jsx("div",{className:"me-auto pc-mob-drp",children:e.jsx("ul",{className:"list-unstyled",children:e.jsx("li",{className:"pc-h-item pc-sidebar-collapse",children:e.jsx("a",{href:"#",className:"pc-head-link ms-0",style:{WebkitAppRegion:"no-drag"},onClick:h,children:e.jsx("i",{className:"ph-duotone ph-list"})})})})}),e.jsxs("div",{className:"ms-auto d-flex align-items-center gap-3",children:[e.jsx(i,{}),e.jsxs("ul",{className:"list-unstyled mb-0",children:[e.jsxs("li",{className:"dropdown pc-h-item",children:[e.jsx("a",{className:"pc-head-link dropdown-toggle arrow-none me-0","data-bs-toggle":"dropdown",href:"#",role:"button",style:{WebkitAppRegion:"no-drag"},children:e.jsx("i",{className:"ph-duotone ph-user-circle"})}),e.jsxs("div",{className:"dropdown-menu dropdown-menu-end pc-h-dropdown",children:[e.jsxs("div",{className:"dropdown-header",children:[e.jsx("h5",{className:"text-overflow",children:e.jsx("small",{children:a.username})}),e.jsx("span",{children:a.role})]}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs("a",{href:"#",className:"dropdown-item",style:{WebkitAppRegion:"no-drag"},onClick:t,children:[e.jsx("i",{className:"ph-duotone ph-power"}),e.jsx("span",{children:"Déconnexion"})]})]})]}),e.jsx("li",{className:"pc-h-item",children:e.jsx(n,{})})]})]})]})}),e.jsx("div",{className:"pc-container",children:m})]})}function b(){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"progress position-fixed top-0 start-0 w-100",style:{height:"3px"},children:e.jsx("div",{className:"progress-bar progress-bar-striped progress-bar-animated",style:{width:"100%"}})}),e.jsx("div",{className:"pc-content",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:e.jsx(j,{})})]})}s.lazy((()=>a((()=>import("./IndividuFiche-RnPwzNY5.js")),__vite__mapDeps([24,1,2,3,9,7,5,16,11]),import.meta.url))),s.lazy((()=>a((()=>import("./NouvelIndividu-_arM4mS1.js")),__vite__mapDeps([10,1,2,3,5,6,11,12,4,13,14]),import.meta.url)));const f=Object.freeze(Object.defineProperty({__proto__:null,default:function({user:a,onLogout:i}){const[r,n]=s.useState("dashboard"),[l,j]=s.useState(null),[f,_]=s.useState("OtterCMS-nodejs");s.useEffect((()=>{!async function(){if(window.api&&window.api.getConfig){const e=await window.api.getConfig();e.success&&e.data&&e.data.appTitle&&_(e.data.appTitle)}}()}),[]),s.useEffect((()=>{"individus"===r&&null===l||(null===l?["import","attribution","categories","users","template","settings"].includes(r)||("admin"===a.role||"manager"===a.role?"dashboard"!==r&&n("dashboard"):"individus"!==r&&n("individus")):"individus"!==r&&n("individus"))}),[a.role,l,r]);const N=s.useCallback((()=>{n("individus"),j("mine")}),[]),g=s.useCallback((()=>{n("individus"),j("all")}),[]),v=s.useCallback((()=>{j(null)}),[]);return e.jsx(x,{user:a,onLogout:i,activeTab:r,title:f,onTabChange:e=>{r!==e&&(j(null),n(e))},children:(()=>{switch(r){case"dashboard":default:return e.jsx(s.Suspense,{fallback:e.jsx(b,{}),children:e.jsx(t,{user:a,onNavigateToMyIndividus:N,onNavigateToAllIndividus:g})});case"individus":return e.jsx(s.Suspense,{fallback:e.jsx(b,{}),children:e.jsx(d,{user:a,requestedView:l,onRequestedViewConsumed:v})});case"import":return e.jsx(s.Suspense,{fallback:e.jsx(b,{}),children:e.jsx(c,{user:a})});case"attribution":return e.jsx(s.Suspense,{fallback:e.jsx(b,{}),children:e.jsx(o,{user:a})});case"categories":return e.jsx(s.Suspense,{fallback:e.jsx(b,{}),children:e.jsx(m,{})});case"users":return e.jsx(s.Suspense,{fallback:e.jsx(b,{}),children:e.jsx(p,{user:a})});case"template":return e.jsx(s.Suspense,{fallback:e.jsx(b,{}),children:e.jsx(u,{user:a})});case"settings":return e.jsx(s.Suspense,{fallback:e.jsx(b,{}),children:e.jsx(h,{user:a})})}})()})}},Symbol.toStringTag,{value:"Module"}));export{j as C,f as M};
